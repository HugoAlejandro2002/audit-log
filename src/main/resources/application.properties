# =========================
# Datasource (MySQL)
# =========================
quarkus.datasource.db-kind=mysql
quarkus.datasource.username=${DB_USER}
quarkus.datasource.password=${DB_PASSWORD}

quarkus.datasource.jdbc.url=jdbc:mysql://${DB_HOST}:${DB_PORT}/${DB_NAME}?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC
quarkus.datasource.jdbc.max-size=${DB_POOL_MAX_SIZE:20}
quarkus.datasource.jdbc.min-size=${DB_POOL_MIN_SIZE:2}
quarkus.datasource.jdbc.acquisition-timeout=${DB_POOL_ACQUIRE_TIMEOUT:10S}
quarkus.datasource.jdbc.idle-removal-interval=${DB_POOL_IDLE_REMOVAL:5M}

# =========================
# Hibernate ORM
# =========================
quarkus.hibernate-orm.log.sql=${HIBERNATE_SQL_LOGS:false}
quarkus.hibernate-orm.schema-management.strategy=${HIBERNATE_SCHEMA_STRATEGY:validate}

# =========================
# HTTP / Cloud Run
# =========================
quarkus.http.port=${PORT:8080}
quarkus.http.host=0.0.0.0

# =========================
# CORS config
# =========================
quarkus.http.cors.enabled=${CORS_ENABLED:false}
quarkus.http.cors.origins=${CORS_ORIGINS:*}
quarkus.http.cors.headers=${CORS_HEADERS:accept,authorization,content-type,x-request-id,x-actor-id}
quarkus.http.cors.methods=${CORS_METHODS:GET,POST,PUT,DELETE,PATCH,OPTIONS}

# =========================
# Swagger / OpenAPI
# =========================
quarkus.swagger-ui.enabled=true
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger
quarkus.smallrye-openapi.path=/openapi

# =========================
# Logging
# =========================
quarkus.log.level=${LOG_LEVEL:INFO}
quarkus.log.console.format=%d{HH:mm:ss} %-5p [%X{requestId}] %c - %s%e%n

# =========================
# Dev services
# =========================
quarkus.datasource.devservices.enabled=false

quarkus.rest.path=/api/v1
quarkus.smallrye-health.root-path=/health
